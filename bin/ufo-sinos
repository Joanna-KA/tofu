#!/usr/bin/env python
import argparse
from unfoog.sinos import make_sinos


def main():
    """Execute sinogram generation with arguments from command line."""
    parser = argparse.ArgumentParser()
    parser.add_argument('-i', '--input', metavar='PATH', type=str,
                        default='.', required=True)
    parser.add_argument('-o', '--output', metavar='PATH', type=str,
                        default='.')
    parser.add_argument('--flats', metavar='PATH', type=str)
    parser.add_argument('--darks', metavar='PATH', type=str)
    parser.add_argument('--disable-absorption-correction', action='store_true')
    parser.add_argument('--num', dest='num_sinos', type=int, default=0,
                        help='Number of sinograms conatined in the data')
    parser.add_argument('--pass-size', dest='chunk', type=int, default=0,
                        help='Number of sinograms to process per pass')

    args = parser.parse_args()

    make_sinos(args)


if __name__ == '__main__':
    main()
